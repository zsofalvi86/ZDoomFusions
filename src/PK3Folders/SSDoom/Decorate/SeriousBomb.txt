ACTOR DSS_SeriousBomb : Weapon
{
	+WEAPON.NOALERT
	Inventory.Pickupmessage "$GOT_DSS_SB"
	Tag "$TAG_DSS_SB"
	Inventory.PickupSound "items/ssweapon"
	Weapon.SelectionOrder 5000
	Weapon.SlotNumber 9
	Weapon.AmmoType "DSS_SeriousBombs"
	Weapon.AmmoUse 1
	Weapon.AmmoGive 1
    States 
    { 
    Spawn: 
		SBMB W -1 
		Loop 
    Ready:
		SBMB A 0 A_Playsound("weapons/zippo")
	ReadyLoop:
        SBMB AABB 1 A_WeaponReady 
        Loop
    Deselect: 
        TNT1 A 0 A_StopSound(6)
	DeseLoop:
        SBMB C 1 A_Lower
		TNT1 A 0 A_Lower
        Loop
    Select: 
        SBMB C 1 A_Raise
		TNT1 A 0 A_Raise
        Loop
    Fire: 
		TNT1 A 0 A_CheckReload
		TNT1 A 0 A_Playsound("weapons/seriousbomb")
		SBMB DEF 3 
		TNT1 A 0 A_Playsound("weapons/fuse",6,1,1)
		SBMB GHIJKLMN 4
		SBMB N 12
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_FireCustomMissile("none",0,1)
		TNT1 A 0 A_SetBlend("ff ff ff",1.0,80)
		TNT1 A 0 A_Explode(9999,9999,0,XF_NOTMISSILE,9999)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		SBMB CCCCCCCCC 1 A_WeaponReady(WRF_NOFIRE|WRF_DISABLESWITCH)
		TNT1 A 0 A_WeaponReady
		TNT1 A 0 A_CheckReload
		Goto Ready
     } 
}

Actor DSS_SeriousBombFlash : CustomInventory
{
	+INVENTORY.AUTOACTIVATE
	States
	{
	Spawn:
		TNT1 A 0
		stop
	Pickup:
		TNT1 A 0 A_SetBlend("ff ff ff",1.0,80)
		stop
	}
}