Actor DSS_Chainsaw : Chainsaw
{
	+WEAPON.NOALERT
	Inventory.Pickupmessage "$GOT_DSS_CS"
	Inventory.PickupSound "items/ssweapon"
	Tag "$TAG_DSS_CS"
	Weapon.UpSound "weapons/sawon"
	Weapon.SlotNumber 1
	DamageType "SeriousSaw"
	States
	{
	ReadySilent:
		CSWG CCDDEEFF 1 A_WeaponReady
		CSWG CCDDEEFF 1 A_WeaponReady
	Ready:
		TNT1 A 0 A_PlaySound("weapons/sawidle",6,1.0,1)
    	CSWG CCDDEEFF 1 A_WeaponReady
    	Loop
  	Deselect:
		TNT1 A 0 A_PlaySound("weapons/sawoff",6)
	DeseLoop:
		CSWG C 1 A_Lower
		TNT1 A 0 A_Lower
    	Loop
  	Select:
		TNT1 A 0 A_PlaySound("weapons/sawon",7)
	SeLoop:
		CSWG C 1 A_Raise
		TNT1 A 0 A_Raise
    	Loop
  	Fire:
		TNT1 A 0 A_PlaySound("weapons/sawstart",7)
		CSWG GH 2
	FireLoop:
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("weapons/sawloop",6,1.0,1) // 25
		TNT1 A 0 A_FireBullets(0,0,1,(29),"DSS_ChainsawPuff",FBF_NORANDOM,128)
		CSWG AB 2
		TNT1 A 0 A_Jump(256,2)
		CSWG B 1
		TNT1 A 0 A_ReFire("FireLoop")
	FireEnd:
		TNT1 A 0 A_PlaySound("weapons/sawstop",6)
		CSWG HG 2
		Goto ReadySilent
  	Flash:
    	TNT1 A 1 A_Light1
		TNT1 AAAA 1 //A_SetPitch(pitch-0.4)
		TNT1 A 0 A_Light2
		TNT1 AA 1 //A_SetPitch(pitch+0.8)
		Goto LightDone
  	Spawn:
    	CSWW A -1
    	Stop
	}
}

Actor DSS_ChainsawPuff : BulletPuff
{
	+EXTREMEDEATH
	SeeSound "weapons/axeflesh"
	AttackSound "weapons/axehit"
	States
	{
	Spawn:
	Crash:
	Melee:
		TNT1 A 0
		PUFF AB 2 Bright
		PUFF CD 2
		Stop
  }
}